<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html
PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="EN">

<head>
  <title>XTF Doc Index</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
  <link rel="stylesheet" href="library/xtfDocStyle.css" type="text/css" />
</head>

<body bgcolor="#FFFFFF" text="#101010" >

<div class="BaseStyle"> 
  <p class="DocTitle" align="center">XTF Documentation Index</p>
  <p class="Heading1">Table of Contents</p>
  <!-- - - - - - - - - - - - - - - - - - - - - - -->
  <ul class="NoBullets">
    <li> <b><a href="#Introduction">Introduction</a></b></li>
    <li> <b><a href="#Guide">Guide to Documentation</a></b></li>
    <li> <b><a href="#WhatsNew">What's New?</a></b> 
      <ul class="NoBullets">
        <li><a href="#WhatsNew_2_0">Version 2.0</a></li>
        <li><a href="#WhatsNew_1_9">Version 1.9</a></li>
      </ul>
    </li>
  </ul>
  <p class="Heading1">Introduction<a name="Introduction"></a></p>
  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - --> 
  <p>
    The CDL eXtensible Text Framework (XTF) is a flexible indexing and query tool that 
    supports searching across collections of heterogeneous data and presents results 
    in a highly configurable manner. The highlights of the XTF system are described in 
    an <a href="http://www.cdlib.org/inside/instruct/extensible_1_06.pdf">online brochure</a> [PDF].
    The California Digital Library (CDL) uses XTF as a building block for new services and has used it to 
    replace a number of systems previously used for text searching (i.e., DLXS, Greenstone, DynaWeb).
  </p>
  <p>
    This document is the main starting point for learning more about XTF. It describes
    each of the major sub-documents that talk about the various aspects of XTF. Also,
    you'll find a summary of newly added documentation in case you're a seasoned XTF
    user interested in what's new.
  </p>
  
  <p class="Heading1">Guide to Documentation<a name="Guide"></a></p>
  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
  <p>
    The documentation for XTF is divided into several different guides:
  </p>
  <ul>
    <li><a href="deployment.html"><b>Deployment Guide</b></a>: Complete setup and configuration information.
      <b>If you are new to XTF, start with this guide.</b><br/><br/></li>
    <li><a href="programming.html"><b>Programming Guide</b></a>: An in-depth technical overview of XTF, and
      instructions on how to program XTF stylesheets.<br/><br/></li>
    <li><a href="tagRef.html"><b>Tag Reference</b></a>: Complete information on XTF elements and attributes.<br/><br/></li>
    <li><a href="tips.html"><b>Tips &amp; Tricks</b></a>: Pointers on debugging XTF stylesheets, 
      setting up external tools, and other useful items.<br/><br/></li>
    <li><a href="underHood.html"><b>Under the Hood</b></a>: Very technical details about the actual operation 
      of XTF and how it performs tasks.<br/><br/></li>
    <li><a href="experimental.html"><b>Experimental Features</b></a>: Some information on partly-cooked 
      features being developed for XTF.<br/><br/></li>
  </ul>
  
  <p class="Heading1">What's New?<a name="WhatsNew"></a></p>
  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
  
  <div class="IndentL"> 
    <p class="Heading2">Version 2.0<a name="WhatsNew_2_0"></a></p>
    <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - --> 
    <p>
      The main changes in XTF 2.0 are under the hood (mainly upgrades to the underlying
      Lucene and Saxon engines) but a major new feature has been added: multi-word spelling
      correction. Additionally, the XTF code has been reformatted to make it easier for
      the main developers and outside parties to work on it and collaborate. Finally, several
      bugs have been fixed and the documentation has been updated.
    </p>
    <p>
      As always, every effort has been made to maintain compatibility with existing
      stylesheets and configuration files. No changes should be necessary (though note that
      queries with upper case letters are handled 
      <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1712387&amp;group_id=119724&amp;atid=684778">slightly differently</a> 
      now).
    </p>
    <p>
      Following are details on all the changes in this version.
    </p>
    <ul>
      <li>
        A robust and efficient <a href="programming.html#Spelling">spelling correction engine</a> 
        is now available and enabled by
        default for all queries in <span class="Keyword">crossQuery</span>. 
        <a href="programming.html#Spelling">Programming</a>, 
        <a href="tagRef.html#crossQuery_QueryParser_Output_Spellcheck">reference</a>, 
        and <a href="underHood.html#Spelling">"under the hood"</a> documentation is provided.
        <font size="-1">
          [feature <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1710858&amp;group_id=119724&amp;atid=684781">1710858</a>]
        </font>
        <br/><br/>
      </li>
      <li>
        XTF now uses the 
        <a href="http://java.sun.com/j2se/1.5.0/">Java 1.5 / 5.0</a> platform, which provides
        better XML parsing, enhanced performance, and support for handy programming
        constructs. If you are using Java 1.4.x, you'll need to upgrade before using
        this version of XTF.
        <font size="-1">
          [feature <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1710859&amp;group_id=119724&amp;atid=684781">1710859</a>]
        </font>
        <br/><br/>
      </li>
      <li>
        The latest versions of <a href="http://saxon.sourceforge.net/">Saxon</a> (8.9) and 
        <a href="http://lucene.apache.org/">Lucene</a> (2.1) are now included with XTF.
        These provide better performance and many bug fixes, as well as opportunities for
        to integrate new features into XTF.
        <font size="-1">
          [features <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1470982&amp;group_id=119724&amp;atid=684781">1470982</a>
          and <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1471001&amp;group_id=119724&amp;atid=684781">1471001</a>;
          bug <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1580595&amp;group_id=119724&amp;atid=684778">1580595</a>]
        </font>
        <br/><br/>
      </li>
      <li>
        Servlets in XTF now detect the output method specified in the
        <span class="CodeNorm">&lt;xsl:output&gt;</span> stylesheet tag and automatically 
        set the HTTP mime type
        appropriately. Previously the mime type was always set to "text/html" which
        is incorrect for XML documents. 
        <font size="-1">
          [support <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1638176&amp;group_id=119724&amp;atid=684779">1638176</a>,
          bug <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1639774&amp;group_id=119724&amp;atid=684778">1639774</a>]
        </font>
        <br/><br/>
      </li>
      <li>
        Documented the <span class="CodeNorm"><a href="tagRef.html#textIndexer_PreFilt_SectTypeAdd">xtf:sectionTypeAdd</a></span> 
        prefilter attribute, which has existed for
        quite some time and comes in handy storing hierarchical section types.
        <font size="-1">
          [support <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1671683&amp;group_id=119724&amp;atid=684779">1671683</a>]
        </font>  
        <br/><br/>
      </li>
      <li>
        XTF now inserts version numbers into index and lazy tree files, and checks them to verify compatibility.
        This should prevent problems encountered by users trying to use indexes generated by previous versions
        of XTF.
        <font size="-1">
          [feature <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1710855&amp;group_id=119724&amp;atid=684781">1710855</a>]
        </font>
        <br/><br/>
      </li>
      <li>
        Multi-character diacritics as well as non-spacing marks are now removed by default during
        index tokenization and query processing. Previously only single base/diacritic characters
        were being handled. Thanks to Joao Lima for pointing this out and testing the fix.
        <font size="-1">
          [bug <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1615393&amp;group_id=119724&amp;atid=684778">1615393</a>]
        </font>
        <br/><br/>
      </li>
      <li>
        The <span class="CodeNorm"><a href="programming.html#Common_Redirect">redirect:send</a></span>,
        Saxon extension now properly handles attribute-value templates.
        <font size="-1">
          [bug <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1608712&amp;group_id=119724&amp;atid=684778">1639774</a>]
        </font>
        <br/><br/>
      </li>
      <li>
        There were several situations where errors during indexing could result in empty or corrupt
        lazy tree files. These have been fixed. Thanks to Jakob Saternus for pointing this out and
        sending fixes. Also, lazy files that are generated by <span class="Keyword">dynaXML</span>
        will be automatically re-generated if the source file changes (this would not work for
        lazy files generated by the <span class="Keyword">textIndexer</span> since they would then
        be out of sync with the index.)
        <font size="-1">
          [bug <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1691482&amp;group_id=119724&amp;atid=684778">1691482</a>]
        </font>
        <br/><br/>
      </li>
      <li>
        Certain tokens (such as identifiers) containing underscores were tokenized differently by
        the textIndexer as opposed to the query parser, making it impossible to query for them.
        Now they are tokenized consistently.
        <font size="-1">
          [bug <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1710871&amp;group_id=119724&amp;atid=684778">1710871</a>]
        </font>
        <br/><br/>
      </li>
      <li>
        Fixed a bug in the "book bag" Javascript code that prevented removing books from the bag.
        <font size="-1">
          [bug <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1710875&amp;group_id=119724&amp;atid=684778">1710875</a>]
        </font>
        <br/><br/>
      </li>
      <li>
        In the default stylesheets, most instances of "&amp;amp;" are now replaced with a simple semicolon.
        Semicolons work just as well and make the code and URLs more compact.
        <br/><br/>
      </li>
      <li>
        The input and output tags for the <a href="tagRef.html#crossQuery_QueryRouter_Tags">Query Router</a> 
        stylesheet (only needed by advanced users) are now documented.
        <br/><br/>
      </li>
      <li>
        Broken links and missing images in the documentation have been fixed.
        <br/><br/>
      </li>
      <li>
        When lazy files are generated by the <span class="Keyword">textIndexer</span>, the printed count of stored
        XSL keys is now correct; previously it was always one higher than the actual count.
        <br/><br/>
      </li>
      <li>
        The servlets and indexer now properly handle ampersand and other special characters
        within filenames. However, the default stylesheets don't produce correct dynaXML links
        yet. Fixing this would take a lot of work, and it's not clear that it would be worth it.
        So for now, these files work in crossQuery only.
        <font size="-1">
          [bug <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1712287&amp;group_id=119724&amp;atid=684778">1710875</a>]
        </font>
        <br/><br/>
      </li>
      <li>
        Added a new section on <a href="tips.html#Optimizing">Optimizing Performance</a> to XTF Tips &amp; Tricks.
        This covers stylesheet tips, profiling, and adjusting Java's virtual memory.
        <br/><br/>
      </li>
      <li>
        Stylesheets can use a new extension function to get the 
        <a href="tagRef.html#FileUtils_CurDateTime">current date and time</a>.
        <br/><br/>
      </li>
      <li>
        URL parameter tokens are no longer converted to lower case before passing them to the
        stylesheets, which enables one to echo a user's query in the same case
        they typed it. Case mapping is now handled internally in the text engine, after the
        query has been parsed.
        <font size="-1">
          [bug <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1712387&amp;group_id=119724&amp;atid=684778">1710875</a>]
        </font>
        <br/><br/>
      </li>
    </ul>
  </div>
  
  <div class="IndentL"> 
    <p class="Heading2">Version 1.9<a name="WhatsNew_1_9"></a></p>
    <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - --> 
    <p>
      The main goal of XTF 1.9 was to update the documentation, attempting to cover
      all features and enhancements made in the past year. Here's a summary of the new
      documentation:
    </p>
    <ul>
      <li>
        An extensive <a href="tips.html">Tips &amp; Tricks</a> guide has been added, covering topics such as
        various handy ways to debug stylesheets, setting up XTF to work in external tools
        such as &lt;oXygen/> and Eclipse, and other helpful tips.
        <br/><br/>
      </li>
      <li>
        Multi-field <a href="tagRef.html#crossQuery_QueryParser_Output_And"><span class="Code">&lt;and></span></a> 
        queries have been added. This is a powerful way to provide a simple "keyword" search that automatically
        searches for <i>all</i> of the terms in <i>any</i> of the specified fields. For instance, this
        would give good results for a query spanning title and author such as 
        <span class="Code">against all enemies clarke</span>.
        <br/><br/>
      </li>
      <li>
        A hybrid 
        <a href="tagRef.html#crossQuery_QueryParser_Output_OrNear"><span class="Code">&lt;orNear></span></a> 
        query operator has been added, that operates like an 
        <span class="Code">&lt;or></span> query but uses proximity for better scoring.
        <br/><br/>
      </li>
      <li>
        New <span class="Code">useProximity</span> attribute is available on
        <a href="tagRef.html#crossQuery_QueryParser_Output_And"><span class="Code">&lt;and></span></a> queries.
        <br/><br/>
      </li>
      <li>
        Completely rewrote the <a href="underHood.html#Scoring">Hit Scoring</a> section in 
        <a href="underHood.html">XTF Under the Hood</a> to reflect how XTF actually
        scores and ranks document hits (which has changed dramatically from the old
        versions that were previously documented.)
        <br/><br/>
      </li>
      <li>
        Documented the 
        <a href="tagRef.html#crossQuery_QueryParser_Output_Query"><span class="Code">explainScores</span></a> 
        attribute that enables comprehensive (if sometimes obscure) output of the 
        <a href="tagRef.html#crossQuery_ResultFormatter_Explanation">score factors</a> used by
        XTF to score a particular document hit.
        <br/><br/>
      </li>
      <li>
        Wrote up the experimental 
        <a href="experimental.html#MoreLikeThis"><span class="Code">&lt;moreLike></span></a> 
        query that searches for documents similar to a given one. 
        <br/><br/>
      </li>
      <li>
        Faceted browsing has graduated from experimental status into the permanent
        documents. The main description can now be found in the 
        <a href="programming.html#Faceted_Browsing">Faceted Browsing</a> section
        of the <a href="programming.html">Programming Guide</a>.
        <br/><br/>
      </li>
      <li>
        Documentation has been restructured, simplifying filenames and adding this
        main index page.
        <br/><br/>
      </li>
      <li>
        The experimental Spelling Correction feature is now documented.
        <br/><br/>
      </li>
      <li>
        XTF's very experimental support for <a href="experimental.html#FRBR">dynamic creation</a> of FRBR "work sets" has been
        documented, at least in basic form.
        <br/><br/>
      </li>
      <li>
        Documented XTF extensions to <a href="programming.html#Common_Exec">call command-line programs</a> 
        from stylesheets, and to <a href="programming.html#Common_FileUtils">check</a> a file's existence,
        length, and modification time.
        <br/><br/>
      </li>
      <li>
        An Saxon extension instruction, 
        <span class="Code"><a href="programming.html#Common_Redirect">redirect:send</a></span>,
        has been added to allow a stylesheet to force an immediate HTTP redirect.
        <br/><br/>
      </li>
      <li>
        For clarity, the documentation now refers to "bi-grams" instead of "n-grams", since XTF 
        exclusively uses two-word n-grams.
        <br/><br/>
      </li>
      <li>
        The new <a href="tagRef.html#textIndexer_PreFilt_Store"><span class="Code">xtf:store</span></a> 
        attribute is available for meta-data fields at index time. Additionally,
        <a href="tagRef.html#textIndexer_PreFilt_Index"><span class="Code">xtf:index</span></a> 
        can now be specified for meta-data fields as well (it used to only apply to text.)
        <br/><br/>
      </li>
      <li>
        An option for <a href="tagRef.html#crossQuery_QueryParser_Output_Range">numeric range searching</a> 
        is now available, which allows efficient processing
        of very granular numeric data, as long as it is in a fixed, consistent format.
        <br/><br/>
      </li>
      <li>
        Some of the error tags that <span class="Keyword">dynaXML</span> could send to the
        <b>Error Generator Stylesheet</b> were not previously documented: 
        <span class="Code"><a href="tagRef.html#ErrorGenerator_InvalidDocument">&lt;InvalidDocument&gt;</a></span> and
        <span class="Code"><a href="tagRef.html#ErrorGenerator_NoPermission">&lt;NoPermission&gt;</a></span>.
        <br/><br/>
      </li>
      <li>
        Documented how to specify <a href="tagRef.html#textIndexer_DocSel_Output_File">multiple pre-filters</a> 
        in the <span class="Code">&lt;file></span> tag
        produced by the <b>Document Selector Stylesheet</b>. The pre-filters are chained together
        in the order listed.
        <br/><br/>
      </li>
      <li>
        Experimental support for <a href="experimental.html#MARC">MARC record parsing</a> is now documented.
        <br/><br/>
      </li>
      <li>
        <a href="programming.html#Common_PassThrough">Pass-through configuration parameters</a> 
        have been supported for a long time, but are now
        properly documented.
        <br/><br/>
      </li>
    </ul>
  </div>
  
</div>  
</body>
</html>
