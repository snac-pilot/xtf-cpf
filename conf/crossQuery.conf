<?xml version="1.0" encoding="utf-8"?>

<!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
<!-- Configuration file for the crossQuery full-text query servlet          -->
<!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

<crossQuery-config>

    <!-- =====================================================================
         Tag:     <logging level="xxx"/>
         
         Descrip: Controls how much detail to output. xxx can be one of:
                     silent:   No logging
                     errors:   Log servlet restarts and errors
                     warnings: Log restarts, errors, and warnings
                     info:     Normal. Log all above, plus routine info msgs
                     debug:    Verbose. Log all above, plus debug msgs
    -->
    
    <logging level="info"/>


    <!-- =====================================================================
         Tag:     <queryParser path="xxx"/>
         
         Descrip: When the servlet receives a request (either through HTTP GET 
                  or PUT), it packs up the parameters and passes them to this 
                  stylesheet. Its job is to generate a structured text query 
                  from the parameters, and also	to specify the stylesheet that 
                  will be used to format the results.
                  
                  The path is interpreted relative to the servlet's base
                  directory.

                  See descriptive comments in queryParser.xsl for details.
    -->

    <queryParser path="style/crossQuery/queryParser.xsl"/>


    <!-- =====================================================================
         Tag:     <errorGen path="xxx"/>
         
         Descrip: When an error occurs (such as an invalid query, work limit
                  exceeded, or an internal error), a stylesheet is used to 
                  produce a nicely formatted page for the requestor. 
                  
                  This tag specifies the path to the stylesheet, relative to 
                  the servlet base directory.

                  See detailed comments in errorGen.xsl for more info.
    -->

    <errorGen path="style/crossQuery/errorGen.xsl"/>


    <!-- =====================================================================
         Tag:     <stylesheetCache size="X" expire="Y">
         
         Descrip: This attribute (if specified) overrides the defaults for 
                  the size (number of entries) and expiration (in seconds) for 
                  the stylesheet cache. Generally these need not be changed.

                  The cache contains compiled versions of stylesheets (query
                  parser, result formatter, etc.)
    -->

    <stylesheetCache size="10" expire="0"/>


    <!-- =====================================================================
         Tag: <dependencyChecking check="yes/no"/>
         
         Descrip: Whenever consulting one of its internal caches, the servlet 
                  can optionally check if the source file(s) have been changed 
                  and if so ignore the cache entry and reload the file(s). 
                  This hurts performance slightly, but makes testing and 
                  development much easier.

                  Set this to "no" for a production system where every last 
                  little bit of speed is critical. Otherwise, leave it "yes".
    -->

    <dependencyChecking check="yes"/>


    <!-- =====================================================================
         Tag: <reportLatency enable="yes/no"/>
         
         Descrip: When set to "yes", the servlet will report how many
                  milliseconds were spent processing each request (regardless
                  of whether the request succeeded or produced an error page.)
                  
                  The report is logged at the "info" level, so if the 
                  <logging> level above is set to "warnings", "errors", or 
                  "silent", then <reportLatency> will have no effect.
                  
                  Set this to "yes" to gather detailed information on which
                  requests took longest to serve. Set it to "no" if you want
                  to avoid logging and don't need the information.
    -->

    <reportLatency enable="no"/>


    <!-- =====================================================================
         Tag: <runawayTimer {normalTime="x"} {kill="y"}/>
         
         Descrip: This tag (if specified) enables tracking potential "runaway"
                  requests, and/or killing true runaways.
                  
                  'normalTime' specifies the maximum amount of time, in
                  seconds, that requests are generally expected to take. Any
                  requests that exceed this time will be logged (with a call
                  stack trace on Java 5 and above.) If set to zero, no logging
                  of potential runaway requests will be performed.
                  
                  'killTime' specifies the time after which a request is truly
                  considered runaway and should voluntarily kill itself. Note
                  that after this time is exceeded a flag is set, but some
                  parts of XTF do not check this flag and thus the request
                  might not be successfully killed. If set to zero, threads 
                  will never be killed before they complete.
                  
                  If not specified, all runaway timing is disabled.
    -->

    <runawayTimer normalTime="10" killTime="300"/>


    <!-- =====================================================================
         PASS-THROUGH TAGS
        
         You may place any other tags you like, and they will be passed as
         parameters to each stylesheet run by the servlet. Thus you can make 
         up your own system-wide parameters, put them below, and then every 
         stylesheet will be able to access them.

         Examples: <mytag value="foo"/>
                   <othertag value="bar"/>
    -->

    <!-- Put pass-through tags here, if you need any. -->

</crossQuery-config>

